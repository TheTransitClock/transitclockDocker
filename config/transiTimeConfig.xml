<?xml version="1.0" encoding="UTF-8"?>
<transitime>
   <modules>
        <!-- <optionalModulesList>org.transitime.core.schedBasedPreds.SchedBasedPredsModule;org.transitime.avl.GtfsRealtimeModule</optionalModulesList> -->                            
        <optionalModulesList>org.transitime.avl.NextBusAvlModule;org.transitime.core.predAccuracy.NextBusPredictionAccuracyModule</optionalModulesList>
    </modules>
     <holding>
     	<controlStops>4560595:6</controlStops>
    </holding>        
    
    <autoBlockAssigner>    
		<autoAssignerEnabled>true</autoAssignerEnabled>
		<ignoreAvlAssignments>false</ignoreAvlAssignments>
		<allowableEarlySeconds>600</allowableEarlySeconds> 
		<allowableLateSeconds>600</allowableLateSeconds>
    </autoBlockAssigner>
    <core>
    	<!--<predictionGeneratorClass>org.transitime.core.predictiongenerator.kalman.KalmanPredictionGeneratorImpl</predictionGeneratorClass>-->
    	<predictionGeneratorClass>org.transitime.core.predictiongenerator.average.frequency.HistoricalAveragePredictionGeneratorImpl</predictionGeneratorClass>
    	<headwayGeneratorClass>org.transitime.core.headwaygenerator.LastArrivalsHeadwayGenerator</headwayGeneratorClass>
    	<maxDistanceFromSegment>100</maxDistanceFromSegment>	
    	<storeTravelTimeStopPathPredictions>true</storeTravelTimeStopPathPredictions>
    	<storeDwellTimeStopPathPredictions>true</storeDwellTimeStopPathPredictions>    	
    	<!-- This setting allow more than one vehicle assigned to the same block. This should be set to true for scheduled services and false for frequency based services. -->
    	<exclusiveBlockAssignments>false</exclusiveBlockAssignments>
    	<maxPredictionsTimeSecs>4800</maxPredictionsTimeSecs>
    	<beforeStopDistance>25</beforeStopDistance>
    	<afterStopDistance>25</afterStopDistance>
    	<layoverDistance>25</layoverDistance>
    	<allowableNumberOfBadMatches>5</allowableNumberOfBadMatches>
    	<frequency>
    		<cacheIncrementsForFrequencyService>10800</cacheIncrementsForFrequencyService>
    	</frequency>
    </core>	
	<predAccuracy>
		<maxPredTimeMinutes>30</maxPredTimeMinutes>
		<nextBusAgencyIdForApi>atlanta-sc</nextBusAgencyIdForApi>
	</predAccuracy>
	
    <avl>                                                     
        <feedPollingRateSecs>10</feedPollingRateSecs>
         <nextbus>
        	<agencyNameForFeed>atlanta-sc</agencyNameForFeed>
        </nextbus>
    </avl>  
    <cache>
    	<daysPopulateHistoricalCache>3</daysPopulateHistoricalCache>
    </cache>        
    <db>        
        <dbName>AGENCYNAME</dbName>
        <dbHost>POSTGRES_PORT_5432_TCP_ADDR:POSTGRES_PORT_5432_TCP_PORT</dbHost>
        <dbType>postgresql</dbType>
        <dbUserName>postgres</dbUserName>
        <dbPassword>PGPASSWORD</dbPassword>
    </db>
 	<prediction>
    	<returnArrivalPredictionForEndOfTrip>true</returnArrivalPredictionForEndOfTrip>
    </prediction>
    <hibernate>
        <!-- <configFile>C:/cygwin64/home/SeanOg/workspace/transitime-historical/core/transitimeWebapp/src/main/resources/postgres_hibernate.cfg.xml</configFile> -->
        <configFile>/usr/local/transitime/config/hibernate.cfg.xml</configFile>        
    </hibernate>
     <web><mapTileUrl>http://tile.openstreetmap.org/{z}/{x}/{y}.png</mapTileUrl></web>
</transitime>
